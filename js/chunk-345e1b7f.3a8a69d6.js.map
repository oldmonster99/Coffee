{"version":3,"sources":["webpack:///./src/views/SecurityCenter.vue?094f","webpack:///src/views/SecurityCenter.vue","webpack:///./src/views/SecurityCenter.vue?fd56","webpack:///./src/views/SecurityCenter.vue","webpack:///./src/components/Bg.vue?b08b","webpack:///src/components/Bg.vue","webpack:///./src/components/Bg.vue?8133","webpack:///./src/components/Bg.vue","webpack:///./src/components/Bg.vue?b97a","webpack:///./src/views/SecurityCenter.vue?aa4c"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","goMy","staticClass","showPopup","destroyAccount","logout","_v","style","height","model","value","callback","$$v","show","expression","isShow1","isShowPass1","oldPasswork","isShow2","isShowPass2","newPasswork","updatePassword","staticRenderFns","name","components","Bg","data","methods","$router","go","axios","method","url","tokenString","password","oldPassword","$dialog","component","_t"],"mappings":"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","file":"js/chunk-345e1b7f.3a8a69d6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('van-nav-bar',{attrs:{\"title\":\"安全中心\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.goMy()}}})],1),_c('div',[_c('Bg',[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"table\"},[_c('van-cell-group',[_c('van-cell',{attrs:{\"title\":\"修改密码\",\"is-link\":\"\"},on:{\"click\":_vm.showPopup}}),_c('van-cell',{attrs:{\"title\":\"注销账号\",\"is-link\":\"\"},on:{\"click\":_vm.destroyAccount}})],1),_c('div',{staticClass:\"btn\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"color\":\"blue\",\"block\":\"\",\"round\":\"\"},on:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\"退出登录\")])],1)],1)])])],1),_c('van-popup',{style:({ height: '40%' }),attrs:{\"position\":\"bottom\",\"closeable\":\"\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"alter\"},[_vm._v(\"修改密码\")]),_c('div',[_c('van-cell-group',[_c('van-field',{attrs:{\"type\":_vm.isShow1 ? 'text' : 'password',\"label\":\"旧密码\",\"right-icon\":_vm.isShow1 ? 'eye-o' : 'closed-eye',\"placeholder\":\"旧密码\"},on:{\"click-right-icon\":_vm.isShowPass1},model:{value:(_vm.oldPasswork),callback:function ($$v) {_vm.oldPasswork=$$v},expression:\"oldPasswork\"}}),_c('van-field',{attrs:{\"type\":_vm.isShow2 ? 'text' : 'password',\"label\":\"新密码\",\"right-icon\":_vm.isShow2 ? 'eye-o' : 'closed-eye',\"placeholder\":\"新密码\"},on:{\"click-right-icon\":_vm.isShowPass2},model:{value:(_vm.newPasswork),callback:function ($$v) {_vm.newPasswork=$$v},expression:\"newPasswork\"}})],1)],1),_c('div',{staticClass:\"alterBtn\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"color\":\"blue\",\"block\":\"\",\"round\":\"\"},on:{\"click\":function($event){return _vm.updatePassword()}}},[_vm._v(\"提交\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 导航位置 -->\r\n    <div>\r\n      <van-nav-bar\r\n        title=\"安全中心\"\r\n        @click-left=\"goMy()\"\r\n        left-text=\"返回\"\r\n        left-arrow\r\n      >\r\n      </van-nav-bar>\r\n    </div>\r\n    <!-- 内容位置 -->\r\n    <div>\r\n      <Bg>\r\n        <div class=\"content\">\r\n          <!-- 表格位置 -->\r\n          <div class=\"table\">\r\n            <van-cell-group>\r\n              <van-cell title=\"修改密码\" is-link @click=\"showPopup\" />\r\n              <van-cell title=\"注销账号\" is-link @click=\"destroyAccount\" />\r\n            </van-cell-group>\r\n            <!-- 按钮位置 -->\r\n            <div class=\"btn\">\r\n              <van-button\r\n                @click=\"logout()\"\r\n                type=\"primary\"\r\n                color=\"blue\"\r\n                block\r\n                round\r\n                >退出登录</van-button\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Bg>\r\n    </div>\r\n\r\n    <!-- 修改密码弹出层 -->\r\n    <van-popup\r\n      v-model=\"show\"\r\n      position=\"bottom\"\r\n      closeable\r\n      :style=\"{ height: '40%' }\"\r\n    >\r\n      <!-- 弹出层同步 -->\r\n      <div class=\"alter\">修改密码</div>\r\n      <div>\r\n        <!-- 修改密码表格位置 -->\r\n        <van-cell-group>\r\n          <van-field\r\n            :type=\"isShow1 ? 'text' : 'password'\"\r\n            v-model=\"oldPasswork\"\r\n            label=\"旧密码\"\r\n            :right-icon=\"isShow1 ? 'eye-o' : 'closed-eye'\"\r\n            @click-right-icon=\"isShowPass1\"\r\n            placeholder=\"旧密码\"\r\n          />\r\n          <van-field\r\n            :type=\"isShow2 ? 'text' : 'password'\"\r\n            v-model=\"newPasswork\"\r\n            label=\"新密码\"\r\n            :right-icon=\"isShow2 ? 'eye-o' : 'closed-eye'\"\r\n            @click-right-icon=\"isShowPass2\"\r\n            placeholder=\"新密码\"\r\n          />\r\n        </van-cell-group>\r\n      </div>\r\n      <div class=\"alterBtn\">\r\n        <van-button\r\n          @click=\"updatePassword()\"\r\n          type=\"primary\"\r\n          color=\"blue\"\r\n          block\r\n          round\r\n          >提交</van-button\r\n        >\r\n      </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Bg from \"../components/Bg\";\r\nexport default {\r\n  name: \"SecurityCenter\",\r\n  components: {\r\n    Bg,\r\n  },\r\n  data() {\r\n    return {\r\n      // 控制弹出层\r\n      show: false,\r\n      // 旧密码\r\n      oldPasswork: \"\",\r\n      // 新密码\r\n      newPasswork: \"\",\r\n      // 控制是否显示密码\r\n      isShow1: false,\r\n      isShow2: false,\r\n    };\r\n  },\r\n  methods: {\r\n    // 返回我的页面\r\n    goMy() {\r\n      this.$router.go(-1);\r\n    },\r\n\r\n    // 修改密码\r\n    showPopup() {\r\n      this.show = true;\r\n    },\r\n\r\n    //是否显示密码\r\n    isShowPass1() {\r\n      this.isShow1 = !this.isShow1;\r\n    },\r\n    isShowPass2() {\r\n      this.isShow2 = !this.isShow2;\r\n    },\r\n\r\n    // 修改密码\r\n    updatePassword() {\r\n      // let tokenString = this.$cookies.get(\"TOKEN\");\r\n      let tokenString = localStorage.getItem(\"TOKEN\");\r\n\r\n      this.axios({\r\n        method: \"POST\",\r\n        url: \"/updatePassword\",\r\n        data: {\r\n          tokenString,\r\n          password: this.newPasswork,\r\n          oldPassword: this.oldPasswork,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          // 清空输入框\r\n          this.$toast(res.data.msg);\r\n\r\n          //如果token失效 跳回重新登录\r\n          if (res.data.code === 700) {\r\n            this.$router.push({ name: \"Login\" });\r\n            return;\r\n          }\r\n          if (res.data.code === \"E003\") {\r\n            this.oldPasswork = \"\";\r\n            this.newPasswork = \"\";\r\n            return;\r\n          }\r\n\r\n          if (res.data.code === \"E001\") {\r\n            this.oldPasswork = \"\";\r\n            this.newPasswork = \"\";\r\n            this.show = false;\r\n            setTimeout(() => {\r\n              this.$router.push({ name: \"Login\" });\r\n            }, 1000);\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n\r\n    // 退出登录\r\n    logout() {\r\n      // let tokenString = this.$cookies.get(\"TOKEN\");\r\n      let tokenString = localStorage.getItem(\"TOKEN\");\r\n\r\n      this.axios({\r\n        method: \"POST\",\r\n        url: \"/logout\",\r\n        data: {\r\n          tokenString,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (res.data.code === 700) {\r\n            this.$router.push({ name: \"Login\" });\r\n            return;\r\n          }\r\n\r\n          this.$toast(res.data.msg);\r\n          if (res.data.code === \"F001\") {\r\n            localStorage.removeItem(\"TOKEN\");\r\n            this.$router.push({ name: \"Login\" });\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n\r\n    // 注销账号\r\n    destroyAccount() {\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"注销账号\",\r\n          message: \"是否确定注销账号, 一旦注销无法恢复\",\r\n        })\r\n        .then((res) => {\r\n          // let tokenString = this.$cookies.get(\"TOKEN\");\r\n          let tokenString = localStorage.getItem(\"TOKEN\");\r\n          this.axios({\r\n            method: \"POST\",\r\n            url: \"/destroyAccount\",\r\n            data: {\r\n              tokenString,\r\n            },\r\n          })\r\n            .then((res) => {\r\n              this.$toast(res.data.msg);\r\n              setTimeout(() => {\r\n                this.$router.push({ name: \"Login\" });\r\n              }, 1000);\r\n            })\r\n            .catch((err) => {});\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 表格位置样式\r\n.table {\r\n  width: 95%;\r\n  margin: auto;\r\n}\r\n// 按钮样式\r\n.btn {\r\n  width: 95%;\r\n  margin: 150px auto;\r\n}\r\n// 弹出层头部\r\n.alter {\r\n  font-size: 18px;\r\n  margin: 10px;\r\n  color: #666;\r\n}\r\n// 修改密码提交按钮\r\n.alterBtn {\r\n  margin: 30px 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SecurityCenter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SecurityCenter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SecurityCenter.vue?vue&type=template&id=a49bfed2&scoped=true&\"\nimport script from \"./SecurityCenter.vue?vue&type=script&lang=js&\"\nexport * from \"./SecurityCenter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SecurityCenter.vue?vue&type=style&index=0&id=a49bfed2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a49bfed2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"background\"}),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"c_content\"},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"background\"></div>\r\n        <div class=\"content\">\r\n            <div class=\"c_content\">\r\n                <slot>\r\n                   \r\n                </slot>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name:\"Bg\"\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.background{\r\n    width: 100%;\r\n    height: 180px;\r\n    background: blue;\r\n}\r\n.content{\r\n    position: fixed;\r\n    top: 180px;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;;\r\n    background: #f0f0f0;\r\n    .c_content{\r\n        position: absolute;\r\n        top: -30px;\r\n        right: 0;\r\n        left: 0;\r\n        bottom: 50px;\r\n        width: 95%;\r\n        box-sizing: border-box;\r\n        border-radius: 10px 10px 0 0 ;\r\n        padding: 20px 0px 0 0px;\r\n        margin: auto;\r\n        background: #fff;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Bg.vue?vue&type=template&id=869b25e2&scoped=true&\"\nimport script from \"./Bg.vue?vue&type=script&lang=js&\"\nexport * from \"./Bg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Bg.vue?vue&type=style&index=0&id=869b25e2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"869b25e2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bg.vue?vue&type=style&index=0&id=869b25e2&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SecurityCenter.vue?vue&type=style&index=0&id=a49bfed2&lang=less&scoped=true&\""],"sourceRoot":""}